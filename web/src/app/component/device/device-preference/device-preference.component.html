<div class="container">
    <app-status class="side-bar" (deselect)="deselectDevice()"></app-status>
    <div class="contents">
        <mat-toolbar>
            <button mat-flat-button mat-button (click)="import()">
                <span translate>DevicePreference.import</span>
            </button>
            <button mat-flat-button mat-button (click)="export()">
                <span translate>DevicePreference.export</span>
            </button>
            <span class="spacer"></span>
            <button mat-flat-button mat-button (click)="reload()">
                <span translate>DevicePreference.reload</span>
            </button>
            <button mat-flat-button color="primary" (click)="update()">
                <span translate>DevicePreference.submit</span>
            </button>
        </mat-toolbar>
        <div class="preference-list">
            <div class="last-update">
                <mat-icon>access_time</mat-icon>
                <ng-container *ngIf="lastUpdated$ | async as lastUpdated; else getting">
                    <span translate [translateParams]="{value: lastUpdated | date: 'yyyy/MM/dd HH:mm:ss'}">
                        DevicePreference.lastUpdateAllParameter
                    </span>
                </ng-container>
                <ng-template #getting>
                    <span translate>DevicePreference.gettingAllParameter</span>
                </ng-template>
            </div>
            <app-device-preference-list [groups]="widget?.ParamService.groups"></app-device-preference-list>
        </div>
    </div>
</div>
